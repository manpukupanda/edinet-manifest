# EDINETマニフェストパーサ

## プロジェクト概要（Overview）

A lightweight C# parser for EDINET manifest XML files, designed with clear structural boundaries and semantic responsibility.
このライブラリは、EDINETが提供するXBRLマニフェストファイル（`.xml`）を構造的にパースするための、軽量かつ責任範囲の明確なC#コンポーネントです。

目的はシンプルです：
- **EDINETのマニフェストファイルを正確に読み取り、意味ある構造に変換すること**
- **余計な抽象化や依存を排除し、責任の所在が明確なコードを提供すること**

このライブラリは、XBRL全体の処理を担うものではありません。あくまで「マニフェストファイルの読み取り」に特化し、他の処理系と組み合わせて使われることを前提としています。

設計思想としては、以下を重視しています：
- **構造と意味の分離**
- **命名と責任の明示**
- **信頼できる最小限の動作**

---

## 主な機能（Features）

このライブラリは、EDINETが提供するXBRLマニフェストファイルを対象に、以下の機能を提供します：

- `XDocument` インスタンスを受け取り、マニフェスト構造をパース  
- EDINET仕様に準拠した要素の抽出（提出者情報、提出書類、ファイル構成など）  
- 意味のある構造体（DTO）としてデータを提供  
- 不正な構造や欠損に対する明示的な例外処理  
- 外部依存を最小限に抑えた、責任範囲の明確な設計

このライブラリは「マニフェストファイルの読み取り」に特化しており、XBRL本体の処理や提出書類の内容解析は含みません。責任範囲を限定することで、他の処理系との組み合わせを容易にし、構造的な信頼性を確保しています。

---

## インストール方法（Installation）

このライブラリは現在 GitHub 上で公開されており、NuGet パッケージとしての公開も予定されています。

### 🔧 現時点での導入方法

GitHub からクローンして、Visual Studio でビルド・参照してください：

```bash
git clone https://github.com/manpukupanda/edinet-manifest.git
```

プロジェクト内のライブラリを参照することで、すぐに使用可能です。

### 📦 NuGet 公開予定について
このライブラリは、今後 NuGet パッケージとして公開予定です。  
公開時期やバージョン情報は、この README にて随時更新します。

---

## 使用例（Usage）

このライブラリは、EDINETのマニフェストファイルを読み込んだ `XDocument` を渡すだけで、構造化された情報を取得できます。

```csharp
var d = XDocument.Load("manifest_PublicDoc.xml");
var manifest = new Manifest(d);
```

※ 詳細なプロパティや取得可能な情報については、今後ドキュメントを追加予定です。

---

## 構造と責任範囲（Design & Responsibility）

このライブラリは、「EDINETのマニフェストファイルをパースする」という**単一の責任**に特化しています。

### 設計方針

- **責任の明示**  
  `Manifest` クラスは、`XDocument` を受け取り、EDINET仕様に基づく構造体へと変換する責任のみを担います。  
  それ以外の処理（ファイル取得、XBRL本体の解析、UIとの連携など）は一切含みません。

- **構造の透明性**  
  パース結果は、意味のあるDTO（Data Transfer Object）として提供され、呼び出し側がその構造を明確に把握できます。  
  内部構造は過度に抽象化されておらず、EDINET仕様との対応関係が追いやすくなっています。

- **命名と意味の整合性**  
  クラス名・プロパティ名は、EDINETのドキュメント構造と意味的に対応するよう設計されています。  
  読み手が「何を扱っているか」を直感的に理解できるよう配慮しています。

- **依存の最小化**  
  外部ライブラリへの依存は極力排除し、標準的な .NET のみで動作するよう設計されています。  
  これにより、他の処理系や環境との統合が容易になります。

### 責任範囲の境界

このライブラリは、**EDINETマニフェストの構造的理解を支援するコンポーネント**です。  
提出書類の内容解析、XBRL本体の処理、EDINET APIとの通信などは、別の責任領域とみなし、ここでは扱いません。

---

## ライセンス（License）

このライブラリは [MIT License](LICENSE) のもとで公開されています。

MITライセンスにより、商用・非商用問わず自由に使用・改変・再配布が可能です。  
ただし、**著作権表示とライセンス文の保持**が必要であり、**使用に伴う責任は利用者にあります**。

ライセンス全文は、リポジトリ内の [`LICENSE`](./LICENSE) ファイルをご参照ください。

---

## 貢献について（Contributing）

このライブラリは、責任範囲を明確に保つため、現在のところ外部からのコード貢献は受け付けていません。  
ただし、**使用上のフィードバックやEDINET仕様に関する情報提供**は歓迎します。

GitHub Issues にて、以下のような内容を共有いただけると助かります：

- EDINET仕様の変更や例外的な構造の報告  
- 使用中に発見された構造的な不整合  
- 設計思想に沿った改善提案（責任の明示、構造の透明性など）

---

## 既知の課題と今後の展望（Known Issues & Roadmap）

### ✅ 現時点での制限事項

- EDINETの仕様変更には手動で対応する必要があります  
- マニフェストファイル以外のXBRL構造には未対応  
- ドキュメントおよびエラーメッセージは日本語のみ（将来的に英語対応も検討）

### 🔭 今後の展望

- NuGet パッケージとしての公開  
- DTO構造のドキュメント化と使用例の拡充  
- EDINET仕様の変化に対応するためのテストケースの強化  
- 必要に応じて、他のEDINET関連ライブラリとの連携も検討

---

## 謝辞・背景（Acknowledgements / Context）

このライブラリは、EDINETが提供するXBRLマニフェストの構造を、**意味と責任を持って扱う**ために設計されました。  
単なる技術的処理ではなく、「提出された情報の構造的信頼性」を支える一部として位置づけています。

EDINETの仕様と公開姿勢に敬意を表するとともに、  
このライブラリがその構造理解を助ける一助となることを願っています。

また、本プロジェクトは「コードは意味を運ぶ媒体である」という思想のもと、  
設計・命名・責任分離において、**構造的な信頼と透明性**を重視しています。